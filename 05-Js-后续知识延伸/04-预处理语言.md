## 一、概述

什么是css预处理器？css预处理器是用一种专门的语言，进行网页的样式设计，之后再被编译为正常的css文件，以供项目使用。

使用css预处理语言的好处：是css更加简洁、方便修改、可读性强、适应性强并且更易于代码的维护。

CSS预处理语言主要有三种：LESS/SASS/STYLUS。

> 1. SASS：
>
> 2007年诞生，最早也是最成熟的CSS预处理器，拥有ruby社区的支持和compass这一最强大的css框架，目前受LESS影响，已经进化到了全面兼容CSS的SCSS（SCSS 需要使用分号和花括号而不是换行和缩进）

>2. LESS：
>
>2009年出现，受SASS的影响较大，但又使用CSS的语法，让大部分开发者和设计师更容易上手，在ruby社区之外支持者远超过SASS，其缺点是比起SASS来，可编程功能不够，不过优点是简单和兼容CSS，反过来也影响了SASS演变到了SCSS的时代，著名的Twitter Bootstrap就是采用LESS做底层语言的。

>3. STYLUS：
>
>2010年产生，来自Node.js社区，主要用来给Node项目进行CSS预处理支持，在此社区之内有一定支持者，在广泛的意义上人气还完全不如SASS和LESS。



## 二、LESS

- <http://lesscss.cn/>
- <http://less.bootcss.com/#getting-started>
- <http://www.bootcss.com/p/lesscss/#guide>



### 2.1 编译

#### a. lessc（less源码编译器）

安装

```shell
$ npm i -D less
```

编译

```shell
$ lessc <source path> <target path>
$ ./node_modules/.bin/lessc ./src/less/index.less ./dist/static/css/index.css
```

> 提示：lessc 只能编译单文件，并且无法实现自动编译。

例子如下图，我们只创建了less文件，但是link中引入的是css文件，没有编译时，页面会报错：

![](./assets/预处理语言编译.gif)



#### b. VSCode：Easy Compile

首先在VSCode中下载 “Easy Compile” 插件，然后配置扩展程序：

```less
"easycompile.less": {
    // 输出路径,${workspaceRoot}VSCode当前打开的文件夹
    "out": "${workspaceRoot}/",
    // 扩展名
    "outExt": ".css",
    // 压缩
    "compress": false,
    // 自动注入浏览器前缀
    "autoprefixer": "last 5 versions"
}
```

![](./assets/EasyCompile.gif)



#### c. Koala

koala是一个前端预处理器语言图形编译工具，支持Less、Sass、Compass、CoffeeScript，帮助web开发者更高效地使用它们进行开发。跨平台运行，完美兼容windows、linux、mac。

官网下载地址：http://koala-app.com/index-zh.html

使用教程：https://www.cnblogs.com/webBlog-gqs/p/7174712.html



### 2.2 语法

#### a. 注释

- /* 此注释方法会编译 */
- // 此注释方法不会被编译 

![](./assets/预处理语言-注释.png)



#### b. 变量

声明语法：`@变量名:值;`，如：`@box_len:300px;`

```less
/** 定义变量
* @w 宽度
* @color 颜色
*/
@w: 200px;
@color: pink;
.box {
    width: @w;
    height: 200px;
    border: 10px solid brown;
    background-color: @color;
    margin: 20px;
    text-align: center;
}
```

编译后的样式为：

```css
/** 定义变量
* @w 宽度
* @color 颜色
*/
.box {
  width: 200px;
  height: 200px;
  border: 10px solid brown;
  background-color: pink;
  margin: 20px;
  text-align: center;
}

```

