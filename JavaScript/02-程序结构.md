## 概述

从程序流程的角度来看，程序可以分为三种基本结构：顺序结构、分支结构、循环结构。这三种基本结构可以组成所有的各种复杂程序。JavaScript提供了多种语句来实现这些程序结构。

### 一、顺序结构

顺序结构即程序从上往下依次执行语句。



### 二、分支结构

分支结构主要包括条件语句（ `if` 语句）与分支语句（ `switch` 语句）。

#### a、条件语句

##### 1. if 语句

`if` 语句会对一个条件进行判断，如果这个条件的结果为 `true`，就会执行后续代码块中的语句。其语法形式为：

```javascript
if (condition) { 
};
```

```javascript
var age = 29;
if (age >= 18) {
    console.log("成年");
}
```



##### 2. if-else语句

`if-else` 语句通常用来进行条件判断，如果条件的结果是 `true`，那么第一个代码块会被执行，如果条件的结果是 `false`，那么第二个代码块会被执行，其语法形式如下：

```javascript
if(condition) {
  // 代码块1
}else {
  // 代码块2
}
```



##### 3. if-else if-else 语句

`if` 语句还有更复杂的使用方法，即 `if-else if-else` 语句，前两种形式的if语句一般都用于两个分支的情况。当有多个分支选择时，可采用 `if-else if-else` 语句。我们来看一个示例：

```javascript
var score = 92;
if(score >= 90 && score <= 100) {
    console.log('优秀！');
}else if(score >= 70 && score < 90) {
    console.log('良好！');
}else if(score >= 60 && score < 70) {
    console.log('及格！');
}else if(score >= 0  && score < 60) {
    console.log('不及格！');
}else {
    console.log('成绩有误！');
}
// 注意：else 如果后面没有跟上if，则表示排除以上所有情况之外的情况，在这里当成绩小于0或成绩大于100时执行；
```





#### b、switch语句

`switch` 语句的开头是一个被称作分支值的变量，每个case表示一个条件，当条件的值和这个变量的值匹配时，它后面的代码就会被执行，下面是switch语句的语法：

```javascript
switch (表达式) {
    case 常量表达式1: 语句1;break;
    case 常量表达式2: 语句2;break;
    case 常量表达式3: 语句3;break;
        ...
        case 常量表达式n: 语句n;break;
    default: 语句n+1;
}
```

> 上述表达式的语义是：计算表达式的值，并逐个与其后的常量表达式值比较。当表达式的值与某个常量表达式的值相等时，即执行其后的语句，然后不再进行判断，继续执行后面所有case后的语句。如表达式的值与所有case的常量表达式均不相同时，则执行 `default` 后的语句。语句后的 `break` 用于跳出switch，执行switch后面的内容。

```javascript
let day = 5;
switch (day) {
    case 1: { console.log("周一"); } break;
    case 2: { console.log("周二"); } break;
    case 3: { console.log("周三"); } break;
    case 4: { console.log("周四"); } break;
    case 5: { console.log("周五"); } break;
    case 6: { console.log("周六"); } break;
    case 7: { console.log("周日"); } break;
    default: { console.log("错误") } break;
}
```

上述示例中，判断 `day` 的值，与每一个case值匹配，匹配到值之后执行相应的代码块，然后执行 `break` 跳出switch语句，因此上述示例输出 “*周五* ”。如果没有添加 `break` 关键字，程序会执行从匹配到的case分支语句表达式及其之后的所有case分支语句表达式。

 `switch` 语句匹配区间：

```javascript
let age = 29;
switch (true) {
    case age >= 0 && age < 18: { console.log("未成年"); } break;
    case age >= 18 && age < 30: { console.log("小哥哥、小姐姐"); } break;
    case age >= 30 && age < 60: { console.log("大叔、大婶"); } break;
    case age >= 60 && age < 80: { console.log("大爷、大妈"); } break;
    case age >= 80 && age < 150: { console.log("老寿星"); } break;
    default: { console.log("什么玩意儿？") } break;
}
```

tips:

- switch语句括号中的表达式以及case分支后的表达式可以是数字或字符串或布尔值；
- 在case后的各常量表达式的值不能相同，否则会出现错误；
- 在case后，允许有多个语句，可以不用`{}`括起来，一般不建议这样做；
- 各case和default子句的先后顺序可以变动，而不会影响程序执行结果；
- default子句可以省略不用；

*if-else* 语句与 *switch* 语句比较：

| if-else语句                                                  | switch语句                                                   |
| :----------------------------------------------------------- | :----------------------------------------------------------- |
| else不是必需的，可以只使用if语句；在多个if语句连续使用的时候，**每一if都会被执行检测**，即使已经找到了匹配（所以它的效率比switch语句要慢很多）； | 可以使用default语句来处理所有case之外的情况；如果找到了一个匹配，相应的代码会被执行，**然后break语句会停止执行switch语句中的其他分支**（比同样功能的连续多个if语句性能要好）； |



### 三、循环结构

循环结构是程序中一种很重要的结构。其特点是，在给定条件成立时，反复执行某程序段，直到条件不成立为止。给定的条件称为 **循环条件**，反复执行的程序段被称为 **循环体** 。JavaScript语言提供了多种循环语句，可以组成不同形式的循环结构。循环共有如下三种类型：

| for                                                          | while                                                        | do while                                                     |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 如果需要将一段代码运行特定的次数，那么可以使用 `for` 循环（这也是最常用的一种循环）。在  `for` 循环中，检查的条件通常是一个计数器，这个计数器用来计算循环需要运行多少次。 | 如果不确定代码究竟要被执行多少次，可以使用 `while` 循环。这里的判断条件也可以使用计数器之外的形式，只要这个条件返回 `true`，对应的代码就会一直重复运行。 | `do…while` 循环和 `while` 循环非常类似，只有一处关键的区别：在 `do...while` 中，即使条件返回`false`，被包裹在花括号之中的语句也至少会运行一次。 |



#### 3.1、for

`for` 循环的语法结构：

```javascript
for (初始化语句; 循环条件; 迭代增量) {
	循环体
}
```

语法解读：

- **初始化**：创建一个变量，然后赋值为0。这个变量通常被命名为`i`，它起到计数器的作用；
- **循环条件**：循环会一直重复运行下去，直到计数器达到特定的数值；
- **迭代增量**：每次循环执行完花括号内部的语句之后，计数器会加1；

```javascript
for (var i = 0; i < 5; i++) {
	console.log("Hello, world!");
}
```

上述示例中，程序会去执行初始化语句，此时`i` 的值为 `0`，然后去判断循环条件，如果 `i < 5` 为 `true`，则执行循环体的内容，打印 *“Hello, world!”*，然后再执行 `i++`，此时 `i` 的值为 `1`，到这里一次循环结束；第1次循环结束之后，初始化语句不再执行，初始化语句只执行一次，第2次循环直接继续判断循环条件，`1 < 5` 为 `true`，那么会执行循环体，再打印一次 *“Hello, world!”*，然后再执行迭代增量 `i++`，此时第2次循环结束。以此类推，当 `i` 的值为 `5` 的时候，判断循环条件 `5 < 5` 为 `false`，则跳出循环，故控制台会打印**5**次 *“Hello, world!”*。

> tips：
>
> - for循环中，**初始化**、**循环条件**、**迭代增量**都是选择项，即可缺省，但 `;` 不能省略；
>
> - 省略 **初始化语句**，表示不对循环控制变量赋初始值；
>
> - 省略 **循环条件**，则不做其他处理时会进入死循环；
>
> - 省略 **迭代增量**，则不对循环控制变量进行操作，这时可在语句体中加入修改循环控制变量的语句，比如在循环体中，做增量操作；
>
> - 三个表达式都可以省略：
>
> ```javascript
> for (; ;) {}
> ```
>
> - **初始化**可以是设置循环变量的初值赋值表达式，也可以是其他表达式：
>
> ```javascript
> // 形式1
> let sum = 0, i = 0;
> for (; i < 100; i++) {
>     sum += i;
> }
> // 形式2
> let sum, i;
> for(i = 0, sum = 0; i < 100; i++) {
>     sum += i;
> }
> ```
>
> - **初始化**语句和**迭代增量**可以是一个简单表达式，也可以是一个逗号表达式；
>
> - **循环条件**一般是关系表达式或逻辑表达式，但也可以是数值表达式或字符表达式，只要其值为true，就执行循环体；



#### 3.2、while 

`while` 循环语法结构：

```javascript
初始化语句
while(循环条件) {
  循环体
  迭代增量
}
```

> 语法解读：`while` 循环先去判断循环条件，如果结果为 `true`，则执行循环体内容，否则结束循环。

我们来看一个示例，计算0~100的和：

```javascript
var sum = 0, i = 0;
while (i <= 100) {
    sum += i;
    i++;
}
console.log('sum is ' + sum);
```

上述示例输出语句中为字符串的拼接，在控制台中，*sum* 变量会呈现其实际值，故而控制台呈现*结果为：5050*。



#### 3.3、do…while 

`do…while` 循环语法结构：

```javascript
do {
	循环体
}while(循环条件)
```

> 语法解读：*do...while* 循环会先去执行循环体的内容，再判断循环条件，如果循环条件为结果 `true`，再执行循环体内容，如果循环条件结果为 `false`，则跳出循环。*do...while* 与 *while* 的区别在于，*do...while* 循环先执行循环体，再执行循环条件；`while` 循环，先判断循环条件，再执行循环体；*do...whilte* 循环至少执行一次循环体。

同样地，我们来看一个使用 `do…while` 循环实现计算0~100的和的示例：

```javascript
var sum = 0, i = 0;
do {
    sum += i;
    i++
} while (i <= 100);
console.log('sum is ' + sum);
```

